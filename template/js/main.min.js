!function(){var e=$(".invest__amount-list"),n=e.find(".invest__amount:first").clone();e.on("keyup change input click",".invest__amount-input",function(e){e.preventDefault(),$(this).val(String($(this).val().replace(/[^0-9]/g,"")).replace(/\B(?=(\d{3})+(?!\d))/g," "))}),e.on("click",".invest__amount-add",function(t){t.preventDefault(),$(this).siblings(".invest__amount-delete").addClass("active"),$(this).removeClass("active"),e.append(n.clone()),$(window).width()>=1366&&(console.log("123"),$("html, body").scrollTop($(document).height()))}),e.on("click",".invest__amount-delete",function(e){e.preventDefault(),$(this).closest(".invest__amount").remove()}),e.on("click",".js-count",function(e){e.preventDefault(),1===$(".invest__amount").length?$(".invest__amount:first").find(".invest__amount-index").html(""):$(".invest__amount-list li").each(function(e){$(this).find(".invest__amount-index").html("&#8194;"+(e+1))})});var t,i=$(".invest__currencies-choose"),a=$(".form__invest"),s=$(".form__info"),c=$(".footer");e.on("click",".invest__amount-currency",function(e){e.preventDefault(),i.addClass("active"),$("#currency").scrollTop(0),a.addClass("hide"),s.addClass("hide"),c.addClass("hide"),t=$(this),$(".invest__currency").toggle(!0),$("input[name=search-input]").val("");var n,o=$(this).html();$("input[name=currency]:radio").each(function(){var e=$(this);e.val()===o&&e.prop("checked",!0)}),n=t,$(".ok").unbind("click").on("click",function(e){e.preventDefault();var t=$("input[name=currency]:checked").val();n.html(t),i.removeClass("active"),a.removeClass("hide"),s.removeClass("hide"),c.removeClass("hide")})}),$(".back").on("click",function(e){e.preventDefault(),i.removeClass("active"),a.removeClass("hide"),s.removeClass("hide"),c.removeClass("hide")})}(),$("#search").keyup(function(){var e=this.value,n=new RegExp("^"+e,"i");$(".invest__currency").each(function(){var e=$(this),t=e.find("label"),i=e.find("input[name='currency']");e.toggle(n.test(t.text())||n.test(i.val()))})}),$(function(){var e=1,n=$("#currency");$.getJSON("./json/currencies.json",function(t){t,$.each(t,function(t,i){n.append('<div class="invest__currency"><input type="radio" name="currency" value="'+i+'" id="'+i+'"><label for="'+i+'" class=""><img src="./img/icons/icon'+e+'.png" class="currency_icon">'+t+"</label></div>"),e++})})}()),$(function(){var e=$(".info__title"),n=$(".info__rates"),t=$(".invest__currencies-choose");e.on("click",function(i){i.preventDefault(),n.toggleClass("active"),e.toggleClass("open-list"),t.toggleClass("open-terms")})}()),function(){var e=$(".header__language"),n=$(".header__change");e.on("click",function(e){e.preventDefault(),n.toggleClass("fade")}),$(document).bind("mouseup touchend",function(e){var t=$("#language");t.is(e.target)||0!==t.has(e.target).length||n.removeClass("fade")})}(),$(".info__personal-field_phone").on("keyup change input click",function(e){e.preventDefault(),this.value=this.value.replace(/[^0-9\+]/g,"")}),$(".info__personal-field_name").on("keyup change input click",function(e){e.preventDefault(),this.value=this.value.replace(/[^a-zA-Zа-яА-Я -]/g,"")}),$(".info__personal-field_mail").on("blur",function(){var e=$(this).val();e.length>0&&1!==(e.match(/.+?\@.+/g)||[]).length&&$(this).addClass("error")}),function(){var e=$(".form"),n=(e.find('[type="submit"]'),$(".form__submit-error"));e.on("submit",function(t){if(t.preventDefault(),function(){var n=!1;e.find('input[name="info-name"]').each(function(){""===$(this).val()&&($(this).addClass("error"),n=!0)}),e.find('input[name="amount-currency"]').each(function(){""===$(this).val()&&($(this).closest(".invest__amount").addClass("error"),n=!0)}),""!==$('input[name="date-year"]').val()||""!==$('input[name="date-month"]').val()?n=!1:($(".invest__additional-field-date").addClass("error"),n=!0);0===$("input[name=risk]:checked").length&&($("input[name=risk]").closest(".invest__additional-field").addClass("error"),n=!0);0===$("input[name=liquidity]:checked").length&&($("input[name=liquidity]").closest(".invest__additional-field").addClass("error"),n=!0);return e.find('input[name="info-mail"]').each(function(){var e=$(this).val();e.length>0&&1!==(e.match(/.+?\@.+/g)||[]).length?($(this).addClass("error"),n=!0):""===$(this).val()&&($(this).addClass("error"),n=!0)}),n}())return n.addClass("active"),!1;$(".g-recaptcha").addClass("active"),n.removeClass("active"),$.ajax({url:"index.html",data:e.serialize(),dataType:"json",error:function(e){console.log("error")},success:function(n){!0===n&&(e.find('input[type="text"],input[type="number"],input[type="email"],textarea').val(""),e.find('input[name="risk"],input[name="liquidity"]').attr("checked",!1),$(".form__submit-success").addClass("active"),$(".g-recaptcha").removeClass("active")),console.log("success")}})}),e.on("keyup change",".error",function(){$(this).removeClass("error")})}();